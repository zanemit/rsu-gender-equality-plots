<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="utils/plot-utils.js"></script>
  <script src="utils/data.js"></script>
  <link rel="stylesheet" href="utils/plot-styles.css">
</head>

<body>
  <div class="panel-container">
    <!-- Navigation arrows -->
    <!-- <div id="prevBtn" class="nav-button">←</div>
    <div id="nextBtn" class="nav-button">→</div> -->

    <!-- Pane 1 -->
    <div id="pane4" class="chart-pane active" style="font-family: Arial, sans-serif;">
      <label for="dataSelect4">Izvēlieties datus, ko attēlot:</label>
      <select id="dataSelect4"> </select>
      <div id="plot-container4" style="width:100%;height:500px;"></div>
    </div>

  <script>
    const LANG = "en";
    document.addEventListener("DOMContentLoaded", () => {
            const relevantLabels = subsetLabelsByData(
              employeesByGroup,
              LABELS[LANG].groupNames
                );

            populateSelect("dataSelect4", relevantLabels, "all_staff");

            makeLinePlot(
                    "plot-container4", 
                    employeesByGroup, 
                    "all_staff", 
                    LABELS[LANG].groupNamesPossessive, 
                    {
                        ...TEXTS[LANG],
                        hoverUnit: 'employees', 
                        yAxisTitle: '% of employees (headcount)'
                    });

            document.getElementById("dataSelect4").addEventListener("change", e => {
                makeLinePlot(
                        "plot-container4", 
                        employeesByGroup, 
                        e.target.value, 
                        LABELS[LANG].groupNamesPossessive, 
                        {
                          ...TEXTS[LANG],
                          hoverUnit: 'employees', 
                        yAxisTitle: '% of employees (headcount)'
                        });
            });
        });
    </script>
</body> 
</html>
