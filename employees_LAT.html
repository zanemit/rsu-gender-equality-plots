<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="utils/plot-utils.js"></script>
  <link rel="stylesheet" href="utils/plot-styles.css">
</head>

<body>
  <div class="panel-container">
    <!-- Navigation arrows -->
    <!-- <div id="prevBtn" class="nav-button">←</div>
    <div id="nextBtn" class="nav-button">→</div> -->

    <!-- Pane 1 -->
    <div id="pane4" class="chart-pane active" style="font-family: Arial, sans-serif;">
      <label for="dataSelect4">Izvēlieties datus, ko attēlot:</label>
      <select id="dataSelect4">
        <option value="all">Viss personāls</option>
        <option value="research">Zinātnes personāls</option>
        <option value="academic">Akadēmiskais personāls</option>
        <option value="managers">Vadītāji</option>
      </select>
      <div id="plot-container4" style="width:100%;height:500px;"></div>
    </div>

  <script>
    const employeesByGroup = {
          all: { x: [2022, 2023, 2024], 
              y: [72, 73, 73], 
              total: [1589,	1637,	1641], 
              name: "Visi darbinieki" },
          research: {x: [2022, 2023, 2024], 
              y: [71,67,68], 
              total: [199,	180,	175], 
              name: "Zinātnes personāls" },
          academic: {x: [2022, 2023, 2024], 
              y: [68,68,67], 
              total: [558,	620,	556], 
              name: "Akadēmiskais personāls" },
          managers: {x: [2022, 2023, 2024], 
              y: [71, 73, 72], 
              total: [62,	66,	76], 
              name: "Vadītāji" }
      };

    const labelMapping = {
            all: "visu darbinieku",
            research: "zinātnes personāla",
            academic: "akadēmiskā personāla",
            managers: "vadītāju"
        };

     document.addEventListener("DOMContentLoaded", () => {
            makeLinePlot("plot-container4", employeesByGroup, "all", labelMapping, 'darbinieki', 'Darbinieku %');

            document.getElementById("dataSelect4").addEventListener("change", e => {
                makeLinePlot("plot-container4", employeesByGroup, e.target.value, labelMapping, 'darbinieki', 'Darbinieku %');
            });
        });
    </script>
</body> 
</html>
